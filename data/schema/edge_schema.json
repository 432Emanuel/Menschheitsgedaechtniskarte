{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://menschheitsgedaechtniskarte.de/data/schema/edge_schema.json",
  "title": "Edge Schema",
  "description": "Schema für alle Edges (Verbindungen) im Menschheitsgedächtniskarte-System",
  "type": "object",
  "required": ["from", "to", "type"],
  "properties": {
    "id": {
      "type": "string",
      "description": "Eindeutiger Bezeichner für die Edge (optional, wird automatisch generiert wenn nicht angegeben)",
      "pattern": "^EDGE-[A-Z0-9-]+$"
    },
    "from": {
      "type": "string",
      "description": "ID des Quell-Nodes"
    },
    "to": {
      "type": "string",
      "description": "ID des Ziel-Nodes"
    },
    "type": {
      "type": "string",
      "description": "Art der Verbindung",
      "enum": [
        "BUILT_UPON",
        "REFRAMES",
        "ITERATES",
        "REFRACTS_TO",
        "INSTANCE_OF_POTENTIAL",
        "EXPRESSES",
        "LEARNED_VIA",
        "ANALOGOUS_TO",
        "CONTRADICTS",
        "INFORMS",
        "INSPIRED_BY",
        "CONNECTED_TO",
        "CAUSES",
        "ENABLES",
        "PRECEDES",
        "FOLLOWS"
      ]
    },
    "strength": {
      "type": "number",
      "minimum": 0,
      "maximum": 1,
      "default": 0.5,
      "description": "Stärke der Verbindung (0-1)"
    },
    "direction": {
      "type": "string",
      "enum": ["directed", "undirected"],
      "default": "directed",
      "description": "Richtung der Verbindung"
    },
    "description": {
      "type": "string",
      "description": "Beschreibung der Verbindung"
    },
    "metadata": {
      "type": "object",
      "properties": {
        "created": {
          "type": "string",
          "format": "date",
          "description": "Erstellungsdatum"
        },
        "modified": {
          "type": "string",
          "format": "date",
          "description": "Letztes Änderungsdatum"
        },
        "version": {
          "type": "string",
          "description": "Version der Edge"
        },
        "status": {
          "type": "string",
          "enum": ["draft", "active", "deprecated"],
          "default": "active"
        },
        "confidence": {
          "type": "number",
          "minimum": 0,
          "maximum": 1,
          "description": "Konfidenz der Verbindung (0-1)"
        },
        "source": {
          "type": "string",
          "description": "Quelle der Information"
        },
        "contributors": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Mitwirkende an dieser Edge"
        }
      }
    },
    "temporal_context": {
      "type": "object",
      "description": "Temporale Kontextinformationen für die Verbindung",
      "properties": {
        "valid_from": {
          "type": "string",
          "format": "date",
          "description": "Beginn der Gültigkeit"
        },
        "valid_to": {
          "type": "string",
          "format": "date",
          "description": "Ende der Gültigkeit"
        },
        "duration": {
          "type": "string",
          "description": "Dauer der Verbindung (falls bekannt)"
        }
      }
    },
    "evidence": {
      "type": "array",
      "description": "Belege für die Verbindung",
      "items": {
        "type": "object",
        "properties": {
          "source": {
            "type": "string",
            "description": "Quelle des Belegs"
          },
          "quote": {
            "type": "string",
            "description": "Zitat oder Referenz"
          },
          "confidence": {
            "type": "number",
            "minimum": 0,
            "maximum": 1,
            "description": "Konfidenz dieses Belegs"
          }
        }
      }
    }
  },
  "examples": [
    {
      "from": "PLACE-GOBEKLI-TEPE-0001",
      "to": "PLACE-CARNAC-0001",
      "type": "BUILT_UPON",
      "strength": 0.7,
      "direction": "directed",
      "description": "Carnac baut auf Gobekli Tepe auf in Bezug auf monumentale Architektur und astronomische Ausrichtung",
      "metadata": {
        "created": "2026-01-22",
        "confidence": 0.7
      }
    },
    {
      "from": "HUM-DE-EMANUEL-1989",
      "to": "CAP_ITERATIVE_BUILDING",
      "type": "EXPRESSES",
      "strength": 0.8,
      "description": "Philipp Emanuel zeigt iterative Baulust"
    }
  ]
}
